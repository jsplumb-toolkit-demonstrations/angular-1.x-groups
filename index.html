<!doctype html>
<html>
    <head>
        <title>jsPlumb Toolkit - Angular integration with Groups</title>
        <meta http-equiv="content-type" content="text/html;charset=utf-8"/>
        <!-- CSS -->
        <link rel="stylesheet" href="node_modules/jsplumbtoolkit/dist/css/jsplumbtoolkit.css">
        <link rel="stylesheet" href="node_modules/jsplumbtoolkit-syntax-highlighter/dist/css/jsplumbtoolkit-syntax-highlighter.css">
        <link rel="stylesheet" href="node_modules/jsplumbtoolkit-demo-support/dist/css/jsplumbtoolkit-demo-support.css">
        <!-- /CSS -->

        <link rel="stylesheet" href="app.css">
    </head>
    <body>

    <!-- content -->

    <div class="jtk-demo-main" id="jtk-demo-groups" ng-controller="DemoController as DemoController" ng-app="app">




            <div class="jtk-demo-canvas">

                <jsplumb-toolkit params="DemoController.toolkitParams"
                                init="DemoController.init"
                                render-params="DemoController.renderParams"
                                jtk-id="demoToolkit"
                                surface-id="demoSurface"
                                style="width:100%;height:100%;position:relative;margin:0">

                    <!-- controls -->
                    <div class="controls">
                        <i class="fa fa-arrows selected-mode" mode="pan" title="Pan Mode"></i>
                        <i class="fa fa-pencil" mode="select" title="Select Mode"></i>
                        <i class="fa fa-home" reset title="Zoom To Fit"></i>
                    </div>

                    <!-- miniview -->
                    <jsplumb-miniview surface-id="demoSurface" class="miniview"></jsplumb-miniview>

                </jsplumb-toolkit>

            </div>

            <div class="jtk-demo-rhs">
                <div class="sidebar node-palette" jsplumb-palette selector="div" surface-id="demoSurface" generator="DemoController.dataGenerator">
                    <div class="sidebar-item" data-node-type="{{ obj.type }}" title="Drag to add new" jtk-is-group="{{ obj.group }}" ng-repeat="obj in draggableTypes">
                        {{obj.label}}
                    </div>
                </div>
                <div class="description">
                    <p>
                        This is a demonstration of the Groups functionality, using Angular.
                    </p>
                    <ul>
                        <li>Drag new Nodes/Groups from the palette on the left onto the workspace. You can drag Nodes directly into
                            Groups.</li>
                        <li>Collapse/Expand Groups with the -/+ buttons</li>
                        <li>Drag existing Nodes into Groups to add them.</li>
                        <li>Nodes can be dragged out of Group 1 but not out of Group 2</li>
                        <li>Click the 'Pencil' icon to enter 'select' mode, then select several nodes. Click the canvas to exit.</li>
                        <li>Click the 'Home' icon to zoom out and see all the nodes.</li>
                    </ul>
                </div>

                <div class="jtk-demo-dataset"></div>
            </div>





        <script type="text/ng-template" id="node_template.tpl">
            <div>
                {{node.name}}
                <div class="delete" title="Click to delete" ng-click="remove(node)"></div>
                <div class="connect"></div>
            </div>
            <jtk-source filter=".connect"></jtk-source>
            <jtk-target></jtk-target>
        </script>

        <script type="text/ng-template" id="group_template.tpl">
            <div>
                <div class="group-title">
                    {{group.title}}
                    <button class="expand" ng-click="toggleGroup(group)"></button>
                </div>
                <div jtk-group-content="true"></div>
            </div>
            <jtk-source/>
            <jtk-target/>
        </script>

        </div>

    <!-- /content -->

        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.5/angular.js"></script>
        <script src="node_modules/jsplumbtoolkit/dist/js/jsplumbtoolkit.js"></script>
        <script src="node_modules/jsplumbtoolkit-drop/dist/js/jsplumbtoolkit-drop.js"></script>
        <script src="node_modules/jsplumbtoolkit-angular-1.x/dist/js/jsplumbtoolkit-angular-1.x.js"></script>
        <script src="app.js"></script>


    </body>
</html>
